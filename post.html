<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Grupo 12 - BioInformática 2016/2017</title>

    <!-- Bootstrap Core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Theme CSS -->
    <link href="css/clean-blog.min.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>

    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-custom navbar-fixed-top">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    Menu <i class="fa fa-bars"></i>
                </button>
                <a class="navbar-brand" href="index.html">BioInformática 2016/2017</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="index.html">Inicio</a>
                    </li>
                    <li>
                        <a href="about.html">Legionella</a>
                    </li>
                    <li>
                        <a href="post.html">Passos Iniciais</a>
                    </li>
                    <li>
                        <a href="arvores.html">Dominios/Arvores</a>
                    </li>
                    <li>
                        <a href="analise.html">Redes metabólica/regulatória</a>
                    </li>
                    <li>
                        <a href="conclusion.html">Conclusão</a>
                    </li>
                    <li>
                        <a href="contact.html">Equipa</a>
                    </li>

                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <!-- Page Header -->
    <!-- Set your background image for this header on the line below. -->
    <header class="intro-header" style="background-image: url('img/home-bg.jpg')">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <div class="post-heading">
                        <h1></h1>
                        <h2 class="subheading"></h2>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Post Content -->
    <article>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">

					<h2 class="section-heading">Legionella Pneumophila </h2>

						<p>Legionelose é o nome genérico atribuido a duas infecções: a doença do legionário e a febre de Pontiac; ambas provocadas pela bactéria Legionella. Sendo que a doença do legionário é causada, mais especificamente, pela Legionella Pneumophila.</p>

						<p>A Legionella Pneumophila é uma bactéria gram-negativa aeróbica intracelular facultativa, esta é encontrada em ambientes de água doce, onde cresce em biofilmes naturais ou em associação com protozoários livres. Esta bactéria toma o papel de parazita em protozoários, geralmente amebas, onde se replica intracelularmente.</p>

						<p>Esta bactéria é capaz de resistir à fagocitose das amebas, através da criação de um vacúolo (LCV), onde se replica intracelularmente. Este vacúolo evita a fundição com os lisossomas e interage com o retículo endoplasmático (RE) do hospedeiro, contribuindo para a protecção e proliferação da bactéria. Para além disso, a L. Pneumophila é um microorganismo que apresenta elevada virulência e resistência a biocidas.</p>

						<p>A Legionella Pneumophila tem um ciclo de vida bifásico: replicativo (não virulento) e transmissivo (virulento). Durante a fase replicativa, a bactéria cresce dentro do vacúolo das células hospedeiras, enquanto que na fase transmissiva, adquire flagelos e abandona os vacúolos.</p>

						<p>Embora os hospedeiros naturais da L. Pneumophila sejam protozoários (como as amebas), quando esta é inalada para os pulmões e fagocitada pelos macrófagos alveolares na forma aerossolizada, os mecanismos que permitem este patogéno oportunista replicar-se, funcionam como na replicação intracelular em amebas. Ou seja, para evitar ser degradada pelos macrófagos, a L.Pneumophila estabelece um vacúolo que a envolve (LCV) e, posteriormente, replica-se no interior deste. Isto pode levar a uma infecção pulmonar, que no caso dos humanos pode resultar numa pneumonia atípica (doença do legionário).</p>

						<p>Este microorganismo usa um sistema de excreção que injecta mais de 300 proteínas bacterianas diferentes nas células hospedeiras, durante a infecção. São estas proteínas bacterianas que vão visar a génese do vacúolo, através de atividades bioquímicas que têm como alvo fatores do hospedeiro que controlam os processos de transporte de membranas. Ou seja, as proteínas bacterianas fazem com que haja corrupção, no hospedeiro, das proteínas que controlam a biogénese e a fusão de vesículas secretoras que saem do ER  e das proteínas que regulam a forma e dinâmica do ER. Para além de recrutarem membranas derivadas do ER para a biogénese do vacúolo, a bactéria tem uma capacidade notável de interferir no processo celular de autofagia do hospedeiro, o que contribui para a sua protecção.</p>

						<p>Os surtos de legionella são devidos, principalmente, à sua capacidade de colonizar e persistir em instalações de água, apesar dos intensos tratamentos físicos e químicos. Estes tratamentos, geralmente, não são muito eficientes e após um periodo de latência, a L.Pneumophila é capaz de re-colonizar rapidamente estes sistemas.</p>

					<div class="container">
						<div class="row">
							<div class="col-lg-8 col-lg-offset-1 col-md-10 col-md-offset-1">

								<h3 class="section-heading">Classificação Científica</h3>

								<p><strong>Reino -</strong> Bactérias</p>

								<p><strong>Filo -</strong> Proteobactérias</p>

								<p><strong>Classe -</strong> GammaProteobacterias</p>

								<p><strong>Ordem -</strong> Legionellales</p>

								<p><strong>Famílias -</strong> Legionellaceae</p>

								<p><strong>Género -</strong> Legionella</p>

								<p><strong>Espécie -</strong> Legionella Pneumophila</p>

								<p><strong>Subespécie -</strong> Legionella pneumophila subsp. Pneumophila</p>

							</div>
						</div>
					</div>

					<h2 class="section-heading">Análise da Literatura</h2>

                    <p>A informação relativa à Legionella Pneumophila referida previamente foi recolhida recorrendo à base de dados PubMed.</p>

                    <p>Tendo em consideração que, numa fase posterior da análise, será necessário  filtrar a informação mais rigorosamente, utilizaram-se as potencialidades do Biopython para automatizar as pesquisas realizadas através da criação do scrip Literatura.py, que permite aceder ao PubMed e desenvolve o ficheiro de texto Legionella gene.txt com os artigos fornecidos pelo próprio.</p>

                    <pre><code>
from Bio import Entrez
from Bio import Medline

import os
import json

"""
  Esta funcao serve para encontrar os IDs do artigos que estão relacionados com a frase colocada
"""
def obterListaTermo(user,termo,num):
  Entrez.email = user
  handle = Entrez.egquery(term=termo, usehistory="y")
  record = Entrez.read(handle)

  """
    Relaxamento na busca de artigos
  """
  for row in record["eGQueryResult"]:
    if row["DbName"] == "pubmed":
      value = row["Count"]
      if value == 0:
        return -1
      elif int(value) > num:
        value = str(num)

  handle = Entrez.esearch(db="pubmed", term=termo,retmax=value, usehistory="y")
  record = Entrez.read(handle)
  idList = record["IdList"] #todos os ids com o termo legionella
  return idList

"""
  Funcao para obter informacao do artigo a partir do ids da funcao em cima
"""
def recordMedline(user,termo,num):
  idList = obterListaTermo(user,termo,num)
  if idList == -1:
    print("Não existem artigos")
    return -1
  else:
    handle = Entrez.efetch(db="pubmed",id=idList,rettype="medline",retmode="text", usehistory="y")
    records = Medline.parse(handle)
    # transformar isto numa lista
    records = list(records)
    print(records)
    return records

"""
  Gravar Ficheiro Literatura
"""
def saveLiteratura(termo,records):
  ofile = open("literatura/"+termo+".txt","w")
  ofile.write(termo+"\n\n")
  for record in records:
    ofile.write(json.dumps(record)+"\n\n")
  ofile.close()

"""
  Criar pasta Literatura
"""
def createFolder(directory):
    if not os.path.exists(directory):
      os.makedirs(directory)

"""
  Zona de teste
"""
def main():
  termo = "Legionella gene" #frase a usar nas pesquisas
  createFolder("literatura")
  records = recordMedline("history.a61043@alunos.uminho.pt",termo,10)
  saveLiteratura(termo,records)

########
main()
                    </code></pre>


                    <h2 class="section-heading">Análise das sequências e das features presentes no NCBI</h2>

					<p>De modo a obter informações relevantes sobre o genoma da Legionella Pneumophila, foi desenvolvido o script analiseSeq.py, que tem como objectivo aceder ao NCBI e guardar ,em formato genbank, o ficheiro example.gb correspondente à zona do genoma que representa o intervalo de genes [lpg2542 a lpg2772].</p>

<pre><code>
def readNCBI(user,startSeq,stopSeq):
  """
  Ler a sequencia do NCBI da legionella

  parametros - utilizador , posicao inicial da sequencia , posicao final da sequencia
  """
  Entrez.email = user
  handle = Entrez.efetch(db="nucleotide",id="NC_002942.5",rettype="gbwithparts",retmode="text",seq_start=startSeq,seq_stop=stopSeq)
  return handle

def readNCBIGene(user,idG):
  """
    Le informacao gene
  """
  Entrez.email = user
  handle = Entrez.efetch(db="gene",id=idG,rettype="gb",retmode="xml")
  return handle


def readProteinTag(user, genID):
  """
    funcao para ir buscar mais informacoes de cada uma das locus tags
  """
  Entrez.email = user
  handle = Entrez.efetch(db="Genome",id=genID,rettype="gbwithparts",retmode="text")
  return handle
</code></pre>
					<h2 class="section-heading">Ferramentas de análise das propriedades da proteína</h2>

                    <p>Com base em algumas ferramentas conhecidas, houve a necessidade de procurar as propridades das proteínas em estudo. Para isso, primeiro foi feita uma pesquisa no NCBI, com o nome do genoma da "Legionella pneumophila", limitando-a à nossa zona de interesse pela opção "Change region shown" (2873801-3124550).</p>

                    <p>Definido o genoma, foi criada uma ferramenta para facilitar a análise das propriedades das proteínas através da realização do script analiseSeq.py.  Toda a informação relativa ao genoma foi armazenada pelo script na pasta fastas, criada pelo próprio, onde foi guardado para cada gene um ficheiro em formato fasta.</p>

					<p>Posteriormente, a ferramenta Uniprot foi utilizada para recolher informação acerca das proteínas, em particular o nome do gene da proteína, a função molecular da proteína, a sua localização celular e a existência de ficheiros curados (reviewed).
<pre><code>
def readXMLGene(folder,dic):
  """
    xml do gene
  """
  xmls = []
  xmls += [each for each in os.listdir(folder) if each.endswith('.xml')]
  for xml in xmls:
    ofile = open(folder+"/"+xml,"r")
    tree = ET.parse(ofile)
    root = tree.getroot()
    place = root.findall("./Entrezgene/Entrezgene_comments/Gene-commentary/Gene-commentary_comment/Gene-commentary/Gene-commentary_products/Gene-commentary/Gene-commentary_products/Gene-commentary/Gene-commentary_comment/Gene-commentary/Gene-commentary_comment/Gene-commentary/Gene-commentary_source/Other-source/Other-source_src/Dbtag/Dbtag_tag/Object-id/Object-id_str")
    locustag = re.split(r'\.',xml)[0]
    if not place:
      dic[locustag].addRefSeq("null")
    else:
     for pl in place:
      dic[locustag].addRefSeq(pl.text)

</code></pre>
                    <h2 class="section-heading">Análise de homologias por BLAST </h2>

                    <p>O BLAST (Basic Local Alignment Search Tool) pesquisa e compara dentro de bases de dados existentes sequências semelhantes às introduzidas, permitindo então verificar a existência de homologias com outros organismos. </p>


                    <p>Para correr a ferramenta Blast de forma automatizada, de forma a acelerar o processo de recolha de informação sobre a bactéria, foi criado o script analiseSeq.py. Para além de automatizar o blast, este script cria também uma pasta na mesma directoria onde  se encontra guardado, onde guarda toda a informação relativa ao blast no ficheiro GeneID_19834107.xml.</p>

<pre><code>
def fastaToBlastFile(fasta):
  """
    Pega no blast da sequencia e vai buscar o blast associado e guarda o
  """
  ofile = open("fastas/"+fasta,"r")
  print("Reading .... {}".format(ofile))
  seq = ""
  for line in ofile:
    seq += line
  result_handle = NCBIWWW.qblast("blastp", "nr",seq)
  name = os.path.basename(fasta)
  blastFile = open("blasts/"+os.path.splitext(name)[0]+".xml","w")
  blastFile.write(result_handle.read())
  blastFile.close()
  result_handle.close()
  ofile.close()
</code></pre>
				</div>
            </div>

            <div class="container">

                <a href="https://www.dropbox.com/s/uprogfeoawppizq/tabela1.xlsx?dl=0">
                    <img class="img-responsive center-block" src="img/excel.png" alt="" height="10%" width="10%" >
                </a>
                <p class="text-center center-block">Tabela de Excel resultante da analise de ferramentas para obter dados</p>
            </div>
        </div>
    </article>

    <hr>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <ul class="list-inline text-center">
                            <a href="https://github.com/pcardosolei/labBioInformatics1617">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    </ul>
                    <p class="copyright text-muted">Copyright &copy; Your Website 2016</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- jQuery -->
    <script src="vendor/jquery/jquery.min.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="vendor/bootstrap/js/bootstrap.min.js"></script>

    <!-- Contact Form JavaScript -->
    <script src="js/jqBootstrapValidation.js"></script>
    <script src="js/contact_me.js"></script>

    <!-- Theme JavaScript -->
    <script src="js/clean-blog.min.js"></script>

</body>

</html>
